{"version":3,"file":"js/110.39874472.js","mappings":"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","sources":["webpack://videogatewayweb/./src/views/collection/records.vue","webpack://videogatewayweb/./src/views/collection/components/records/onvif.vue","webpack://videogatewayweb/src/views/collection/components/records/onvif.vue","webpack://videogatewayweb/./src/views/collection/components/records/onvif.vue?4289","webpack://videogatewayweb/./src/views/collection/components/records/onvif.vue?c80e","webpack://videogatewayweb/./src/views/collection/components/records/Modbus.vue","webpack://videogatewayweb/src/views/collection/components/records/Modbus.vue","webpack://videogatewayweb/./src/views/collection/components/records/Modbus.vue?3900","webpack://videogatewayweb/./src/views/collection/components/records/Modbus.vue?ac8d","webpack://videogatewayweb/./src/views/collection/components/records/GB28181.vue","webpack://videogatewayweb/src/views/collection/components/records/GB28181.vue","webpack://videogatewayweb/./src/views/collection/components/records/GB28181.vue?bfd1","webpack://videogatewayweb/./src/views/collection/components/records/GB28181.vue?d800","webpack://videogatewayweb/src/views/collection/records.vue","webpack://videogatewayweb/./src/views/collection/records.vue?4da3","webpack://videogatewayweb/./src/views/collection/records.vue?063e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-interval\",staticStyle:{\"height\":\"100%\"}},[_c('div',{staticClass:\"tree\"},[_c('el-tree',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"tree\",attrs:{\"data\":_vm.deviceList,\"props\":_vm.defaultProps,\"highlight-current\":\"\",\"node-key\":\"id\",\"load\":_vm.loadNode,\"lazy\":\"\",\"default-expanded-keys\":[_vm.sourceId]},on:{\"node-click\":_vm.handleNodeClick},scopedSlots:_vm._u([{key:\"default\",fn:function({ data }){return _c('span',{staticClass:\"custom-tree-node\",attrs:{\"title\":_vm.displayContent(data)}},[_vm._v(\" \"+_vm._s(_vm.displayContent(data))+\" \")])}}])})],1),_c('div',{staticClass:\"p-15\",staticStyle:{\"width\":\"65vw\",\"overflow\":\"auto\"}},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"报警记录\",\"name\":\"1\"}}),_c('el-tab-pane',{attrs:{\"label\":\"数据记录\",\"name\":\"2\"}}),_c(_vm.componentsListName,{key:_vm.componentKey,ref:\"recordsRef\",tag:\"component\",attrs:{\"chooseItem\":_vm.chooseItem,\"activeName\":_vm.activeName,\"recordsList\":_vm.recordsList,\"AiValueList\":_vm.AiValueList}}),_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.aiTotal > 0),expression:\"aiTotal > 0\"}],staticClass:\"float-right mt-10 mb-10\",attrs:{\"total\":_vm.aiTotal,\"page\":_vm.attributeParams.page,\"limit\":_vm.attributeParams.size,\"layout\":\"total, prev, pager, next\",\"small\":\"\"},on:{\"update:page\":function($event){return _vm.$set(_vm.attributeParams, \"page\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.attributeParams, \"size\", $event)},\"pagination\":function($event){_vm.activeName == '1' ? _vm.getDataList() : _vm.getDataAiValueList()}}})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.activeName == '1')?_c('el-table',{attrs:{\"data\":_vm.recordsList}},[_c('el-table-column',{attrs:{\"label\":\"报警图片\",\"align\":\"center\",\"prop\":\"ai_file\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.ai_file)?_c('el-image',{staticStyle:{\"width\":\"150px\",\"height\":\"85px\"},attrs:{\"src\":`${scope.row.ai_file}`,\"preview-src-list\":[`${scope.row.ai_file}`],\"fit\":\"fill\",\"referrerpolicy\":\"no-referrer\"}}):_c('span',[_vm._v(\"暂无图片\")])]}}],null,false,1000676452)}),_c('el-table-column',{attrs:{\"label\":\"报警时间\",\"align\":\"center\",\"prop\":\"time\"}}),_c('el-table-column',{attrs:{\"label\":\"事件名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.ai_value ? JSON.parse(scope.row.ai_value).ai_name : \"--\")+\" \")]}}],null,false,1017336452)}),_c('el-table-column',{attrs:{\"label\":\"分析内容\",\"align\":\"center\",\"prop\":\"analyse_threshold\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return (scope.row.ai_value)?[_c('div',_vm._l((_vm.parsedData(scope.row.ai_value).slice(\n              0,\n              4\n            )),function(item,index){return _c('div',{key:'preview_' + index,staticStyle:{\"text-align\":\"center\"}},[_vm._v(\" \"+_vm._s(item.name)+\": \"+_vm._s(_vm._f(\"toFixed\")(item.confidence))+\" \")])}),0),(_vm.shouldShowMore(_vm.parsedData(scope.row.ai_value)))?_c('el-popover',{attrs:{\"placement\":\"right\",\"width\":\"400\",\"trigger\":\"click\"}},[_vm._l((_vm.parsedData(scope.row.ai_value)),function(item,index){return _c('div',{key:'detail_' + index,staticStyle:{\"text-align\":\"center\"}},[_vm._v(\" \"+_vm._s(item.name)+\": \"+_vm._s(_vm._f(\"toFixed\")(item.confidence))+\" \")])}),_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"text\"},slot:\"reference\"},[_vm._v(\"查看全部\")])],2):_vm._e()]:undefined}}],null,true)})],1):_c('el-table',{attrs:{\"data\":_vm.AiValueList}},[_c('el-table-column',{attrs:{\"label\":\"最新图片\",\"align\":\"center\",\"prop\":\"value\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.value)?_c('el-image',{staticStyle:{\"width\":\"150px\",\"height\":\"85px\"},attrs:{\"src\":`${scope.row.value}`,\"preview-src-list\":[`${scope.row.value}`],\"fit\":\"fill\",\"referrerpolicy\":\"no-referrer\"}}):_c('span',[_vm._v(\"暂无图片\")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"时间\",\"align\":\"center\",\"prop\":\"time\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-table :data=\"recordsList\" v-if=\"activeName == '1'\">\r\n      <el-table-column label=\"报警图片\" align=\"center\" prop=\"ai_file\">\r\n        <template slot-scope=\"scope\">\r\n          <el-image\r\n            style=\"width: 150px; height: 85px\"\r\n            v-if=\"scope.row.ai_file\"\r\n            :src=\"`${scope.row.ai_file}`\"\r\n            :preview-src-list=\"[`${scope.row.ai_file}`]\"\r\n            fit=\"fill\"\r\n            referrerpolicy=\"no-referrer\"\r\n          >\r\n          </el-image>\r\n          <span v-else>暂无图片</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"报警时间\" align=\"center\" prop=\"time\" />\r\n      <el-table-column label=\"事件名称\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          {{\r\n            scope.row.ai_value ? JSON.parse(scope.row.ai_value).ai_name : \"--\"\r\n          }}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"分析内容\" align=\"center\" prop=\"analyse_threshold\">\r\n        <template slot-scope=\"scope\" v-if=\"scope.row.ai_value\">\r\n          <div>\r\n            <div\r\n              v-for=\"(item, index) in parsedData(scope.row.ai_value).slice(\r\n                0,\r\n                4\r\n              )\"\r\n              :key=\"'preview_' + index\"\r\n              style=\"text-align: center\"\r\n            >\r\n              {{ item.name }}: {{ item.confidence | toFixed }}\r\n            </div>\r\n          </div>\r\n          <el-popover\r\n            placement=\"right\"\r\n            width=\"400\"\r\n            trigger=\"click\"\r\n            v-if=\"shouldShowMore(parsedData(scope.row.ai_value))\"\r\n          >\r\n            <div\r\n              v-for=\"(item, index) in parsedData(scope.row.ai_value)\"\r\n              :key=\"'detail_' + index\"\r\n              style=\"text-align: center\"\r\n            >\r\n              {{ item.name }}: {{ item.confidence | toFixed }}\r\n            </div>\r\n            <el-button slot=\"reference\" type=\"text\">查看全部</el-button>\r\n          </el-popover>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-table :data=\"AiValueList\" v-else>\r\n      <el-table-column label=\"最新图片\" align=\"center\" prop=\"value\">\r\n        <template slot-scope=\"scope\">\r\n          <el-image\r\n            style=\"width: 150px; height: 85px\"\r\n            v-if=\"scope.row.value\"\r\n            :src=\"`${scope.row.value}`\"\r\n            :preview-src-list=\"[`${scope.row.value}`]\"\r\n            fit=\"fill\"\r\n            referrerpolicy=\"no-referrer\"\r\n          >\r\n          </el-image>\r\n          <span v-else>暂无图片</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"时间\" align=\"center\" prop=\"time\" />\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    chooseItem: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    activeName: {\r\n      type: String,\r\n    },\r\n    recordsList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    AiValueList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      chooseItemInfo: {},\r\n      attributeTotal: 0,\r\n      attributeParams: {\r\n        page: 1,\r\n        size: 10,\r\n      },\r\n    };\r\n  },\r\n  filters: {\r\n    toFixed(value) {\r\n      return Number(value).toFixed(2);\r\n    },\r\n  },\r\n  created() {\r\n    this.chooseItemInfo = { ...this.chooseItem };\r\n  },\r\n  methods: {\r\n    parsedData(row) {\r\n      try {\r\n        return JSON.parse(row).ai_class || [];\r\n      } catch (e) {\r\n        console.error(\"解析ai_value失败:\", e);\r\n        return [];\r\n      }\r\n    },\r\n    shouldShowMore(row) {\r\n      return row.length > 4;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.101.2/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/.pnpm/babel-loader@8.4.1_mlq2w24ovccw2zzwyvf7z5k5qa/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/index.js??vue-loader-options!./onvif.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.101.2/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/.pnpm/babel-loader@8.4.1_mlq2w24ovccw2zzwyvf7z5k5qa/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/index.js??vue-loader-options!./onvif.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./onvif.vue?vue&type=template&id=7e2f5013&scoped=true\"\nimport script from \"./onvif.vue?vue&type=script&lang=js\"\nexport * from \"./onvif.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e2f5013\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.activeName == '1')?_c('el-table',{attrs:{\"data\":_vm.recordsList}},[_c('el-table-column',{attrs:{\"label\":\"标识符\",\"align\":\"center\",\"prop\":\"identifier\"}}),_c('el-table-column',{attrs:{\"label\":\"最新值\",\"align\":\"center\",\"prop\":\"ai_value\"}}),_c('el-table-column',{attrs:{\"label\":\"报警时间\",\"align\":\"center\",\"prop\":\"time\"}})],1):_c('el-table',{attrs:{\"data\":_vm.AiValueList}},[_c('el-table-column',{attrs:{\"label\":\"标识符\",\"align\":\"center\",\"prop\":\"identifier\"}}),_c('el-table-column',{attrs:{\"label\":\"最新值\",\"align\":\"center\",\"prop\":\"value\"}}),_c('el-table-column',{attrs:{\"label\":\"时间\",\"align\":\"center\",\"prop\":\"time\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-table :data=\"recordsList\" v-if=\"activeName == '1'\">\r\n      <el-table-column label=\"标识符\" align=\"center\" prop=\"identifier\">\r\n      </el-table-column>\r\n      <el-table-column label=\"最新值\" align=\"center\" prop=\"ai_value\">\r\n        <!-- <template slot-scope=\"scope\"> </template> -->\r\n      </el-table-column>\r\n      <el-table-column label=\"报警时间\" align=\"center\" prop=\"time\" />\r\n    </el-table>\r\n    <el-table :data=\"AiValueList\" v-else>\r\n      <el-table-column label=\"标识符\" align=\"center\" prop=\"identifier\">\r\n      </el-table-column>\r\n      <el-table-column label=\"最新值\" align=\"center\" prop=\"value\">\r\n        <!-- <template slot-scope=\"scope\"> </template> -->\r\n      </el-table-column>\r\n      <el-table-column label=\"时间\" align=\"center\" prop=\"time\" />\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    chooseItem: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    activeName: {\r\n      type: String,\r\n    },\r\n    recordsList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    AiValueList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      chooseItemInfo: {},\r\n      attributeTotal: 0,\r\n      attributeParams: {\r\n        page: 1,\r\n        size: 10,\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.chooseItemInfo = { ...this.chooseItem };\r\n  },\r\n  methods: {\r\n    parsedData(row) {\r\n      try {\r\n        return JSON.parse(row.ai_value) || [];\r\n      } catch (e) {\r\n        console.error(\"解析ai_value失败:\", e);\r\n        return [];\r\n      }\r\n    },\r\n    shouldShowMore(row) {\r\n      return this.parsedData(row).length > 4;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.101.2/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/.pnpm/babel-loader@8.4.1_mlq2w24ovccw2zzwyvf7z5k5qa/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/index.js??vue-loader-options!./Modbus.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.101.2/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/.pnpm/babel-loader@8.4.1_mlq2w24ovccw2zzwyvf7z5k5qa/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/index.js??vue-loader-options!./Modbus.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Modbus.vue?vue&type=template&id=70602b95&scoped=true\"\nimport script from \"./Modbus.vue?vue&type=script&lang=js\"\nexport * from \"./Modbus.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70602b95\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._v(\"gb28181\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>gb28181</div>\r\n</template>\r\n\r\n<script>\r\nexport default {};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.101.2/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/.pnpm/babel-loader@8.4.1_mlq2w24ovccw2zzwyvf7z5k5qa/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/index.js??vue-loader-options!./GB28181.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.101.2/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/.pnpm/babel-loader@8.4.1_mlq2w24ovccw2zzwyvf7z5k5qa/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/index.js??vue-loader-options!./GB28181.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GB28181.vue?vue&type=template&id=a562b44c&scoped=true\"\nimport script from \"./GB28181.vue?vue&type=script&lang=js\"\nexport * from \"./GB28181.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a562b44c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"flex-interval\" style=\"height: 100%\">\r\n    <div class=\"tree\">\r\n      <el-tree\r\n        v-loading=\"loading\"\r\n        :data=\"deviceList\"\r\n        :props=\"defaultProps\"\r\n        @node-click=\"handleNodeClick\"\r\n        highlight-current\r\n        ref=\"tree\"\r\n        node-key=\"id\"\r\n        :load=\"loadNode\"\r\n        lazy\r\n        :default-expanded-keys=\"[sourceId]\"\r\n      >\r\n        <span\r\n          class=\"custom-tree-node\"\r\n          slot-scope=\"{ data }\"\r\n          :title=\"displayContent(data)\"\r\n        >\r\n          {{ displayContent(data) }}\r\n        </span>\r\n      </el-tree>\r\n    </div>\r\n    <div class=\"p-15\" style=\"width: 65vw; overflow: auto\">\r\n      <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n        <el-tab-pane label=\"报警记录\" name=\"1\"> </el-tab-pane>\r\n        <el-tab-pane label=\"数据记录\" name=\"2\"> </el-tab-pane>\r\n        <component\r\n          :key=\"componentKey\"\r\n          :is=\"componentsListName\"\r\n          :chooseItem=\"chooseItem\"\r\n          ref=\"recordsRef\"\r\n          :activeName=\"activeName\"\r\n          :recordsList=\"recordsList\"\r\n          :AiValueList=\"AiValueList\"\r\n        ></component>\r\n        <pagination\r\n          class=\"float-right mt-10 mb-10\"\r\n          v-show=\"aiTotal > 0\"\r\n          :total=\"aiTotal\"\r\n          :page.sync=\"attributeParams.page\"\r\n          :limit.sync=\"attributeParams.size\"\r\n          @pagination=\"activeName == '1' ? getDataList() : getDataAiValueList()\"\r\n          layout=\"total, prev, pager, next\"\r\n          small\r\n        />\r\n      </el-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport onvif from \"./components/records/onvif.vue\";\r\nimport Modbus from \"./components/records/Modbus.vue\";\r\nimport GB28181 from \"./components/records/GB28181.vue\";\r\nexport default {\r\n  components: {\r\n    onvif,\r\n    Modbus,\r\n    GB28181,\r\n  },\r\n  data() {\r\n    return {\r\n      defaultProps: {\r\n        label: \"source_name\",\r\n        children: \"children\",\r\n      },\r\n      recordsList: [],\r\n      chooseItem: {},\r\n      attributeParams: {\r\n        page: 1,\r\n        size: 10,\r\n      },\r\n      deviceList: [],\r\n      activeName: \"1\",\r\n      expandedKeys: [],\r\n      checkedKeys: [],\r\n      sourceId: 0,\r\n      AiValueList: [],\r\n      aiTotal: 0,\r\n      componentKey: 0,\r\n      componentsListName: \"onvif\",\r\n      source_type: new Map([\r\n        [1, \"Modbus\"],\r\n        [2, \"onvif\"],\r\n        [3, \"onvif\"],\r\n        [4, \"Modbus\"],\r\n      ]),\r\n      loading: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.getDeviceList();\r\n  },\r\n  mounted() {\r\n    this.setStyle();\r\n  },\r\n  filters: {\r\n    toFixed(value) {\r\n      return Number(value).toFixed(2);\r\n    },\r\n  },\r\n  methods: {\r\n    parsedData(row) {\r\n      try {\r\n        return JSON.parse(row.ai_value) || [];\r\n      } catch (e) {\r\n        console.error(\"解析ai_value失败:\", e);\r\n        return [];\r\n      }\r\n    },\r\n    shouldShowMore(row) {\r\n      return this.parsedData(row).length > 4;\r\n    },\r\n    getDataAiValueList() {\r\n      this.$api\r\n        .get(`/collect/getDataRecordList`, {\r\n          params: this.attributeParams,\r\n        })\r\n        .then((res) => {\r\n          if (res.data.data) {\r\n            this.AiValueList = res.data.data;\r\n            this.aiTotal = res.data.total;\r\n          } else {\r\n            this.AiValueList = [];\r\n          }\r\n        });\r\n    },\r\n    getDataList() {\r\n      this.$api\r\n        .get(`/ai/getDataAiRecordList`, {\r\n          params: this.attributeParams,\r\n        })\r\n        .then((res) => {\r\n          if (res.data.data) {\r\n            this.recordsList = res.data.data;\r\n            this.aiTotal = res.data.total;\r\n          } else {\r\n            this.aiTotal = 0;\r\n            this.recordsList = [];\r\n          }\r\n        });\r\n    },\r\n    displayContent(data) {\r\n      const { describe, driver_protocol, source_name, identifier } = data;\r\n      return describe || (driver_protocol && source_name) || identifier;\r\n    },\r\n    loadNode(node, resolve) {\r\n      if (node.level === 0) {\r\n        return resolve([]);\r\n      }\r\n      if (node.level === 2 && node.data.driver_protocol == 2)\r\n        return resolve([]);\r\n      node.data.loaded = true; // 标记为已加载，避免重复触发\r\n      this.$api\r\n        .get(`/collect/getDataPropertyList`, {\r\n          params: {\r\n            source_id: node.parent.data.id || node.data.id,\r\n            ...(node.data.driver_protocol != 2 && {\r\n              parent_id: node.data.parent_id || 0,\r\n            }),\r\n          },\r\n        })\r\n        .then(async (res) => {\r\n          if (res.data.data) {\r\n            const data = res.data.data.map((item) => ({\r\n              describe: item.describe,\r\n              id: item.pro_id,\r\n              driver_protocol: node.data.driver_protocol,\r\n              parent_id: item.identifier,\r\n            }));\r\n            return resolve(data);\r\n          } else {\r\n            return resolve([]);\r\n          }\r\n        });\r\n    },\r\n    handleClick(e) {\r\n      this.recordsList = []; // 清空报警记录数据\r\n      this.AiValueList = []; // 清空数据记录数据\r\n      this.aiTotal = 0;\r\n      this.attributeParams.page = 1;\r\n      this.componentKey = `${this.componentsListName}_${Date.now()}`;\r\n      if (e.index == \"0\") {\r\n        this.getDataList();\r\n      } else {\r\n        this.getDataAiValueList();\r\n      }\r\n    },\r\n    getDeviceList() {\r\n      this.loading = true;\r\n      this.$api\r\n        .get(`/collect/getDataSourceList`, { params: this.dataSource })\r\n        .then((res) => {\r\n          this.deviceList = res.data.data.map((item) => ({\r\n            ...item,\r\n            id: item.source_id,\r\n            loaded: false,\r\n          }));\r\n\r\n          const targetId = this.$route.query.source_id\r\n            ? Number(this.$route.query.source_id)\r\n            : this.deviceList[0]?.id;\r\n\r\n          if (!targetId) return;\r\n\r\n          this.sourceId = targetId;\r\n          this.$nextTick(() => this.handleInitialNode(targetId));\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n\r\n    handleInitialNode(targetId) {\r\n      if (this.$route.query.source_id) {\r\n        const targetNode = this.$refs.tree?.getNode(targetId);\r\n        if (!targetNode) return;\r\n\r\n        this.loadNode(targetNode, (loadedData) => {\r\n          if (!loadedData?.length) return;\r\n\r\n          const targetItem = this.$route.query.pro_id\r\n            ? loadedData.find((item) => item.id == this.$route.query.pro_id)\r\n            : loadedData[0];\r\n\r\n          if (!targetItem) return;\r\n\r\n          const childNode = this.$refs.tree.getNode(targetItem);\r\n          if (childNode) {\r\n            this.handleNodeClick(targetItem, childNode);\r\n            this.$refs.tree.setCurrentKey(targetItem.id);\r\n          }\r\n        });\r\n      } else {\r\n        const defaultNode = this.deviceList[0];\r\n        if (!defaultNode) return;\r\n\r\n        const node = this.$refs.tree.getNode(defaultNode);\r\n        if (node) {\r\n          this.handleNodeClick(defaultNode, node);\r\n          this.$refs.tree.setCurrentKey(this.sourceId);\r\n        }\r\n      }\r\n    },\r\n    setStyle() {\r\n      const elMain = document.querySelector(\".el-main\");\r\n      if (elMain) {\r\n        elMain.style.padding = \"0px\";\r\n        elMain.style.overflow = \"hidden\";\r\n      }\r\n    },\r\n    handleNodeClick(data, node) {\r\n      this.recordsList = []; // 清空报警记录数据\r\n      this.AiValueList = []; // 清空数据记录数据\r\n      this.aiTotal = 0;\r\n      this.activeName = \"1\";\r\n      this.chooseItem = data;\r\n      this.attributeParams = {\r\n        page: 1,\r\n        size: 10,\r\n      };\r\n      if (node.level == 1) {\r\n        this.attributeParams.source_id = data.id;\r\n      } else {\r\n        this.attributeParams.pro_id = data.id;\r\n      }\r\n      this.componentsListName = this.source_type.get(\r\n        this.chooseItem.driver_protocol\r\n      );\r\n      this.componentKey = `${this.componentsListName}_${Date.now()}`;\r\n      this.getDataList();\r\n    },\r\n    getAttributeList() {},\r\n  },\r\n  beforeDestroy() {\r\n    const elMain = document.querySelector(\".el-main\");\r\n    if (elMain) {\r\n      elMain.style.padding = \"20px\";\r\n      elMain.style.overflow = \"auto\";\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tree {\r\n  width: 12vw;\r\n  border-right: 5px solid #f4f4f4;\r\n  height: 100%;\r\n  padding: 15px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.101.2/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.4.1_mlq2w24ovccw2zzwyvf7z5k5qa/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/index.js??vue-loader-options!./records.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.101.2/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.4.1_mlq2w24ovccw2zzwyvf7z5k5qa/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/index.js??vue-loader-options!./records.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./records.vue?vue&type=template&id=26c96d04&scoped=true\"\nimport script from \"./records.vue?vue&type=script&lang=js\"\nexport * from \"./records.vue?vue&type=script&lang=js\"\nimport style0 from \"./records.vue?vue&type=style&index=0&id=26c96d04&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26c96d04\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","directives","name","rawName","value","loading","expression","ref","attrs","deviceList","defaultProps","loadNode","sourceId","on","handleNodeClick","scopedSlots","_u","key","fn","data","displayContent","_v","_s","handleClick","model","activeName","callback","$$v","componentsListName","componentKey","tag","chooseItem","recordsList","AiValueList","aiTotal","attributeParams","page","size","$event","$set","getDataList","getDataAiValueList","staticRenderFns","scope","row","ai_file","ai_value","JSON","parse","ai_name","_l","parsedData","slice","item","index","_f","confidence","shouldShowMore","slot","_e","undefined","props","type","Object","default","String","Array","chooseItemInfo","attributeTotal","filters","toFixed","Number","created","methods","ai_class","e","console","error","length","component","components","onvif","Modbus","GB28181","label","children","expandedKeys","checkedKeys","source_type","Map","getDeviceList","mounted","setStyle","$api","get","params","then","res","total","describe","driver_protocol","source_name","identifier","node","resolve","level","loaded","source_id","parent","id","parent_id","map","pro_id","Date","now","dataSource","targetId","$route","query","$nextTick","handleInitialNode","finally","targetNode","$refs","tree","getNode","loadedData","targetItem","find","childNode","setCurrentKey","defaultNode","elMain","document","querySelector","style","padding","overflow","getAttributeList","beforeDestroy"],"sourceRoot":""}