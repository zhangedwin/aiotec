{"version":3,"file":"js/821.4f34ba24.js","mappings":"0KAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,SAASF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,SAAS,CAACJ,EAAIK,GAAG,kBAAkBH,EAAG,UAAU,CAACI,IAAI,eAAeF,YAAY,aAAaG,MAAM,CAAC,MAAQP,EAAIQ,UAAU,KAAO,QAAQ,MAAQR,EAAIS,WAAWC,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQb,EAAIc,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAgB,KAAYhB,EAAIiB,WAAW,eAAe,IAAI,CAACf,EAAG,eAAe,CAACK,MAAM,CAAC,KAAO,cAAc,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,aAAe,MAAM,YAAc,OAAOW,MAAM,CAACC,MAAOnB,EAAIQ,UAAUY,UAAWC,SAAS,SAAUC,GAAMtB,EAAIuB,KAAKvB,EAAIQ,UAAW,YAAac,EAAI,EAAEE,WAAW,0BAA0B,GAAGtB,EAAG,eAAe,CAACK,MAAM,CAAC,KAAO,aAAa,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,YAAc,KAAK,KAAO,WAAW,aAAe,MAAM,gBAAgB,IAAIW,MAAM,CAACC,MAAOnB,EAAIQ,UAAUiB,SAAUJ,SAAS,SAAUC,GAAMtB,EAAIuB,KAAKvB,EAAIQ,UAAW,WAAYc,EAAI,EAAEE,WAAW,yBAAyB,GAAGtB,EAAG,eAAe,CAACwB,YAAY,CAAC,aAAa,SAAS,CAACxB,EAAG,YAAY,CAACwB,YAAY,CAAC,MAAQ,QAAQnB,MAAM,CAAC,MAAQ,GAAG,KAAO,WAAWoB,GAAG,CAAC,MAAQ,SAAShB,GAAQ,OAAOX,EAAIiB,WAAW,eAAe,IAAI,CAACf,EAAG,MAAM,CAAGF,EAAI4B,QAAmC1B,EAAG,OAAO,CAACF,EAAIK,GAAG,QAAQH,EAAG,IAAI,CAACE,YAAY,2BAAxEF,EAAG,OAAO,CAACF,EAAIK,GAAG,aAAsF,IAAI,IAAI,IAC54C,EACIwB,EAAkB,GC8CtB,G,QAAA,CACAC,IAAAA,GACA,OACAtB,UAAA,GACAuB,cAAAC,EACAJ,SAAA,EACAnB,UAAA,CACAW,UAAA,CACA,CAAAa,UAAA,EAAAC,QAAA,SAAAC,QAAA,SAEAV,SAAA,EAAAQ,UAAA,EAAAC,QAAA,QAAAC,QAAA,UAGA,EACAC,MAAA,CACAC,OAAA,CACAC,QAAA,SAAAC,GACA,KAAAR,SAAAQ,EAAAC,OAAAD,EAAAC,MAAAT,QACA,EACAU,WAAA,IAGAC,QAAA,CACAzB,UAAAA,CAAA0B,GACA,KAAAC,MAAAD,GAAAE,SAAAC,IACA,IAAAA,EAaA,SAXA,KAAAlB,SAAA,EACA,KAAAmB,KACAC,KAAA,mBAAAxC,WACAyC,KAAAC,IACAC,aAAAC,QAAA,QAAAF,EAAApB,KAAAA,MACA,KAAAuB,QAAAC,KAAA,CAAAC,KAAA,KAAAxB,UAAA,QAEAyB,QAAA,KACA,KAAA5B,SAAA,KAMA,KCzFwa,I,UCQpa6B,GAAY,OACd,EACA1D,EACA8B,GACA,EACA,KACA,WACA,MAIF,EAAe4B,E","sources":["webpack://videogatewayweb/./src/views/loginView.vue","webpack://videogatewayweb/src/views/loginView.vue","webpack://videogatewayweb/./src/views/loginView.vue?1363","webpack://videogatewayweb/./src/views/loginView.vue?e8cf"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page-login\"},[_c('div',{staticClass:\"left\"}),_c('div',{staticClass:\"login-blk\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"AIOTEC边缘计算网关\")]),_c('el-form',{ref:\"loginFormRef\",staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm,\"size\":\"large\",\"rules\":_vm.formRules},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.submitForm('loginFormRef')}}},[_c('el-form-item',{attrs:{\"prop\":\"user_name\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"用户名\"},model:{value:(_vm.loginForm.user_name),callback:function ($$v) {_vm.$set(_vm.loginForm, \"user_name\", $$v)},expression:\"loginForm.user_name\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"user_pwd\"}},[_c('el-input',{attrs:{\"placeholder\":\"密码\",\"type\":\"password\",\"autocomplete\":\"off\",\"show-password\":\"\"},model:{value:(_vm.loginForm.user_pwd),callback:function ($$v) {_vm.$set(_vm.loginForm, \"user_pwd\", $$v)},expression:\"loginForm.user_pwd\"}})],1),_c('el-form-item',{staticStyle:{\"margin-top\":\"60px\"}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"plain\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('loginFormRef')}}},[_c('div',[(!_vm.loading)?_c('span',[_vm._v(\"登录\")]):_c('span',[_vm._v(\"正在登录\"),_c('i',{staticClass:\"el-icon-loading ml-5\"})])])])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page-login\">\r\n    <div class=\"left\"></div>\r\n    <div class=\"login-blk\">\r\n      <h2 class=\"title\">AIOTEC边缘计算网关</h2>\r\n      <el-form\r\n        ref=\"loginFormRef\"\r\n        :model=\"loginForm\"\r\n        class=\"login-form\"\r\n        size=\"large\"\r\n        @keyup.enter.native=\"submitForm('loginFormRef')\"\r\n        :rules=\"formRules\"\r\n      >\r\n        <el-form-item prop=\"user_name\">\r\n          <el-input\r\n            v-model=\"loginForm.user_name\"\r\n            autocomplete=\"off\"\r\n            placeholder=\"用户名\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item prop=\"user_pwd\">\r\n          <el-input\r\n            v-model=\"loginForm.user_pwd\"\r\n            placeholder=\"密码\"\r\n            type=\"password\"\r\n            autocomplete=\"off\"\r\n            show-password\r\n          />\r\n        </el-form-item>\r\n        <el-form-item style=\"margin-top: 60px\">\r\n          <el-button\r\n            style=\"width: 100%\"\r\n            plain\r\n            type=\"primary\"\r\n            @click=\"submitForm('loginFormRef')\"\r\n          >\r\n            <div>\r\n              <span v-if=\"!loading\">登录</span>\r\n              <span v-else>正在登录<i class=\"el-icon-loading ml-5\"></i></span>\r\n            </div>\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      loginForm: {},\r\n      redirect: undefined,\r\n      loading: false,\r\n      formRules: {\r\n        user_name: [\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n        ],\r\n        user_pwd: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler: function (route) {\r\n        this.redirect = route.query && route.query.redirect;\r\n      },\r\n      immediate: true,\r\n    },\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          // 登录逻辑\r\n          this.loading = true;\r\n          this.$api\r\n            .post(\"/user/login\", this.loginForm)\r\n            .then((res) => {\r\n              localStorage.setItem(\"token\", res.data.data);\r\n              this.$router.push({ path: this.redirect || \"/\" });\r\n            })\r\n            .finally(() => {\r\n              this.loading = false;\r\n            });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.page-login {\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  background: #f8fafb;\r\n  .left {\r\n    width: 73%;\r\n    height: 100%;\r\n    background: url(../assets/image/login.png) no-repeat center;\r\n    background-size: 100% 100%;\r\n  }\r\n  .login-blk {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    flex: 1;\r\n\r\n    .title {\r\n      margin-top: 12px;\r\n      margin-bottom: 40px;\r\n      color: rgb(0 0 0);\r\n      font-weight: 600;\r\n      font-size: 22px;\r\n    }\r\n    .logo {\r\n      width: 44px;\r\n    }\r\n  }\r\n  .login-form {\r\n    width: 100%;\r\n    // margin: 60px auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n  .el-form-item {\r\n    width: 80%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.101.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.4.1_mlq2w24ovccw2zzwyvf7z5k5qa/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/index.js??vue-loader-options!./loginView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.101.2/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.4.1_mlq2w24ovccw2zzwyvf7z5k5qa/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/index.js??vue-loader-options!./loginView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./loginView.vue?vue&type=template&id=1a616483&scoped=true\"\nimport script from \"./loginView.vue?vue&type=script&lang=js\"\nexport * from \"./loginView.vue?vue&type=script&lang=js\"\nimport style0 from \"./loginView.vue?vue&type=style&index=0&id=1a616483&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a616483\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","ref","attrs","loginForm","formRules","nativeOn","$event","type","indexOf","_k","keyCode","key","submitForm","model","value","user_name","callback","$$v","$set","expression","user_pwd","staticStyle","on","loading","staticRenderFns","data","redirect","undefined","required","message","trigger","watch","$route","handler","route","query","immediate","methods","formName","$refs","validate","valid","$api","post","then","res","localStorage","setItem","$router","push","path","finally","component"],"sourceRoot":""}