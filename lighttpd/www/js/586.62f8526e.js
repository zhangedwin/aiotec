"use strict";(self["webpackChunkvideogatewayweb"]=self["webpackChunkvideogatewayweb"]||[]).push([[586],{4586:function(t,e,r){r.r(e),r.d(e,{default:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{},[e("h4",[t._v("系统配置")]),e("el-divider"),e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm mt-30",staticStyle:{width:"30%"},attrs:{model:t.ruleForm,rules:t.rules,"label-width":"130px",size:"small"}},[e("el-form-item",{attrs:{label:"是否开启记录存储",prop:"is_record"}},[e("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.ruleForm.is_record,callback:function(e){t.$set(t.ruleForm,"is_record",e)},expression:"ruleForm.is_record"}})],1),e("el-form-item",{attrs:{label:"存储时间(天)",prop:"save_duration"}},[e("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:t.ruleForm.save_duration,callback:function(e){t.$set(t.ruleForm,"save_duration",e)},expression:"ruleForm.save_duration"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1),e("h4",[t._v("系统重启")]),e("el-divider"),e("div",{staticClass:"d-flex f-center"},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.restart}},[t._v("重启")]),e("div",{staticClass:"ml-10 f-bold fs-14"},[t._v("重新启动设备")])],1)],1)},a=[],i={data(){return{ruleForm:{save_duration:7,is_record:0},rules:{save_duration:[{required:!0,message:"请输入",trigger:"blur"}]}}},created(){this.getData()},methods:{restart(){this.$confirm("是否重启系统?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$api.post("/settting/restartSystem").then(()=>{this.$message.success("操作成功")})}).catch(()=>{this.$message({type:"info",message:"已取消"})})},getData(){this.$api.get("/settting/getSysSetting").then(t=>{t.data.data&&(this.ruleForm=t.data.data)})},submitForm(t){this.$refs[t].validate(t=>{if(!t)return!1;this.$api.post("/settting/updateSysSetting",this.ruleForm).then(()=>{this.$message.success("操作成功"),this.getData()})})}}},l=i,o=r(6790),n=(0,o.A)(l,s,a,!1,null,null,null),u=n.exports}}]);
//# sourceMappingURL=586.62f8526e.js.map