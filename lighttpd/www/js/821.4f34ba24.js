"use strict";(self["webpackChunkvideogatewayweb"]=self["webpackChunkvideogatewayweb"]||[]).push([[821],{8821:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-login"},[t("div",{staticClass:"left"}),t("div",{staticClass:"login-blk"},[t("h2",{staticClass:"title"},[e._v("AIOTEC边缘计算网关")]),t("el-form",{ref:"loginFormRef",staticClass:"login-form",attrs:{model:e.loginForm,size:"large",rules:e.formRules},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("loginFormRef")}}},[t("el-form-item",{attrs:{prop:"user_name"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:"用户名"},model:{value:e.loginForm.user_name,callback:function(t){e.$set(e.loginForm,"user_name",t)},expression:"loginForm.user_name"}})],1),t("el-form-item",{attrs:{prop:"user_pwd"}},[t("el-input",{attrs:{placeholder:"密码",type:"password",autocomplete:"off","show-password":""},model:{value:e.loginForm.user_pwd,callback:function(t){e.$set(e.loginForm,"user_pwd",t)},expression:"loginForm.user_pwd"}})],1),t("el-form-item",{staticStyle:{"margin-top":"60px"}},[t("el-button",{staticStyle:{width:"100%"},attrs:{plain:"",type:"primary"},on:{click:function(t){return e.submitForm("loginFormRef")}}},[t("div",[e.loading?t("span",[e._v("正在登录"),t("i",{staticClass:"el-icon-loading ml-5"})]):t("span",[e._v("登录")])])])],1)],1)],1)])},o=[],s=(r(5786),{data(){return{loginForm:{},redirect:void 0,loading:!1,formRules:{user_name:[{required:!0,message:"请输入用户名",trigger:"blur"}],user_pwd:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{submitForm(e){this.$refs[e].validate(e=>{if(!e)return!1;this.loading=!0,this.$api.post("/user/login",this.loginForm).then(e=>{localStorage.setItem("token",e.data.data),this.$router.push({path:this.redirect||"/"})}).finally(()=>{this.loading=!1})})}}}),l=s,a=r(6790),n=(0,a.A)(l,i,o,!1,null,"1a616483",null),u=n.exports}}]);
//# sourceMappingURL=821.4f34ba24.js.map