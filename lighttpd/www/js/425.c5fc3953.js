"use strict";(self["webpackChunkvideogatewayweb"]=self["webpackChunkvideogatewayweb"]||[]).push([[425],{425:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.configPage,expression:"!configPage"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"d-flex"},[e.interfaceList.length>0?e._l(e.interfaceList,function(a,r){return t("div",{key:r,staticClass:"itemBox",on:{click:function(t){return e.goPage(a)}}},[t("div",{staticClass:"icon icon-interface",staticStyle:{color:"#24aaff","font-size":"40px"}}),t("div",{staticStyle:{width:"55%"}},[t("div",{staticClass:"fs-18"},[e._v(e._s(a.interface))]),t("div",{staticClass:"fs-12 mt-10",staticStyle:{color:"#8e8e8e"}},[t("div",[e._v("IP地址："+e._s(a.ip||"--"))]),t("div",{staticClass:"mt-5"},[e._v("子网掩码："+e._s(a.netmask||"--"))]),t("div",{staticClass:"mt-5"},[e._v("网关地址："+e._s(a.gateway||"--"))])])])])}):t("el-empty",{staticStyle:{width:"100%"},attrs:{description:"暂无内容"}})],2),t("div",{directives:[{name:"show",rawName:"v-show",value:e.configPage,expression:"configPage"}]},[t("el-page-header",{attrs:{content:e.interfaceInfo.interface},on:{back:e.goBack}}),t("div",{staticClass:"d-center"},[t("Wan",{staticStyle:{width:"40%"},attrs:{interfaceInfo:e.interfaceInfo}})],1)],1)])},s=[],l=function(){var e=this,t=e._self._c;return t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"MAC 地址:",prop:"mac"}},[e._v(" "+e._s(e.ruleForm.mac||"--")+" ")]),t("el-form-item",{attrs:{label:"网络类型:",prop:"net_type"}},[t("el-select",{model:{value:e.ruleForm.net_type,callback:function(t){e.$set(e.ruleForm,"net_type",t)},expression:"ruleForm.net_type"}},[t("el-option",{attrs:{label:"dhcp",value:0}}),t("el-option",{attrs:{label:"静态地址",value:1}})],1)],1),e.write?[t("el-form-item",{attrs:{label:"IP地址:",prop:"address"}},[t("el-input",{model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1),t("el-form-item",{attrs:{label:"子网掩码:",prop:"netmask"}},[t("el-input",{model:{value:e.ruleForm.netmask,callback:function(t){e.$set(e.ruleForm,"netmask",t)},expression:"ruleForm.netmask"}})],1),t("el-form-item",{attrs:{label:"网关地址:",prop:"gateway"}},[t("el-input",{model:{value:e.ruleForm.gateway,callback:function(t){e.$set(e.ruleForm,"gateway",t)},expression:"ruleForm.gateway"}})],1)]:[t("el-form-item",{attrs:{label:"IP地址:"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1),t("el-form-item",{attrs:{label:"子网掩码:"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.netmask,callback:function(t){e.$set(e.ruleForm,"netmask",t)},expression:"ruleForm.netmask"}})],1),t("el-form-item",{attrs:{label:"网关地址:"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.gateway,callback:function(t){e.$set(e.ruleForm,"gateway",t)},expression:"ruleForm.gateway"}})],1)],t("el-form-item",{attrs:{label:"DNS服务器1:",prop:"dns1"}},[t("el-input",{model:{value:e.ruleForm.dns1,callback:function(t){e.$set(e.ruleForm,"dns1",t)},expression:"ruleForm.dns1"}})],1),t("el-form-item",{attrs:{label:"DNS服务器2:",prop:"dns2"}},[t("el-input",{model:{value:e.ruleForm.dns2,callback:function(t){e.$set(e.ruleForm,"dns2",t)},expression:"ruleForm.dns2"}})],1),e.interfaceInfo.isWireless?[t("el-form-item",{attrs:{label:"无线网络名称:",prop:"ssid"}},[t("el-input",{model:{value:e.ruleForm.ssid,callback:function(t){e.$set(e.ruleForm,"ssid",t)},expression:"ruleForm.ssid"}})],1),t("el-form-item",{attrs:{label:"无线网络秘钥:",prop:"sskey"}},[t("el-input",{attrs:{type:"password","show-password":""},model:{value:e.ruleForm.sskey,callback:function(t){e.$set(e.ruleForm,"sskey",t)},expression:"ruleForm.sskey"}})],1)]:e._e(),t("el-form-item",[t("div",{staticClass:"d-center"},[t("el-button",{staticStyle:{width:"80%"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")])],1)])],2)},i=[],n={props:{interfaceInfo:{type:Object,default:()=>{}}},data(){let e=(e,t,a)=>{const r=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;r.test(t)?a():a(new Error("格式错误 格式:XXX.XXX.XXX.XXX"))},t=(e,t,a)=>{const r=/^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$/;r.test(t)?a():a(new Error("格式错误"))};return{ruleForm:{},rules:{address:[{required:!0,message:"请输入",trigger:["blur","change"]},{validator:e,trigger:["blur","change"]}],netmask:[{required:!0,message:"请输入",trigger:["blur","change"]},{validator:t,trigger:["blur","change"]}],gateway:[{required:!0,message:"请输入",trigger:["blur","change"]},{validator:e,trigger:["blur","change"]}],dns1:[{required:!0,message:"请输入",trigger:["blur","change"]},{validator:e,trigger:["blur","change"]}],dns2:[{required:!0,message:"请输入",trigger:["blur","change"]},{validator:e,trigger:["blur","change"]}]},interfaceList:[],write:!0}},watch:{"ruleForm.net_type"(e){this.write=0!=e},interfaceInfo(){this.getData()}},methods:{submitForm(e){this.$refs[e].validate(e=>{if(!e)return!1;this.$api.post("/net/updateNet",this.ruleForm).then(()=>{this.$message.success("操作成功"),this.getData()}).finally(()=>{})})},getData(){this.$refs.ruleForm.clearValidate(),this.$api.get("/net/getNet",{params:{interface:this.interfaceInfo.interface}}).then(e=>{let t=e.data.data;this.ruleForm=t?{...t,net_type:null==t.net_type?1:t.net_type,mac:this.interfaceInfo.mac||t.mac,address:this.interfaceInfo.address||t.address,gateway:this.interfaceInfo.gateway||t.gateway}:{interface:this.interfaceInfo.interface,mac:this.interfaceInfo.mac,net_type:1}}).catch(()=>{this.ruleForm={interface:this.interfaceInfo.interface,mac:this.interfaceInfo.mac,net_type:1}})}}},o=n,c=a(6790),u=(0,c.A)(o,l,i,!1,null,null,null),m=u.exports,d={components:{Wan:m},data(){return{interfaceList:[],configPage:!1,interfaceInfo:{},loading:!0}},created(){this.getInterfaceList()},methods:{goBack(){this.configPage=!1},goPage(e){this.configPage=!0,this.interfaceInfo=e},getInterfaceList(){this.$api.get("/net/getNetList").then(e=>{this.interfaceList=e.data.data}).finally(()=>{this.loading=!1})}}},f=d,g=(0,c.A)(f,r,s,!1,null,"ff50abf4",null),p=g.exports}}]);
//# sourceMappingURL=425.c5fc3953.js.map