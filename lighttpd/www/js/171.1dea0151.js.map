{"version":3,"file":"js/171.1dea0151.js","mappings":"0KAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,MAAQ,GAAG,KAAO,eAAe,KAAO,QAAQC,GAAG,CAAC,MAAQL,EAAIM,WAAW,CAACN,EAAIO,GAAG,UAAUL,EAAG,WAAW,CAACM,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOX,EAAIY,QAASC,WAAW,YAAYC,YAAY,CAAC,MAAQ,QAAQV,MAAM,CAAC,KAAOJ,EAAIe,YAAY,CAACb,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,UAAU,MAAQ,OAAO,MAAQ,YAAYF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,UAAU,MAAQ,OAAO,MAAQ,YAAYF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,UAAUY,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAClB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQC,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOrB,EAAIsB,WAAWF,EAAMG,IAAK,EAAE,IAAI,CAACrB,EAAG,IAAI,CAACsB,YAAY,yBAAyBpB,MAAM,CAAC,MAAQ,cAAcF,EAAG,YAAY,CAACsB,YAAY,eAAepB,MAAM,CAAC,KAAO,QAAQC,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOrB,EAAIyB,SAASL,EAAMG,IAAI,KAAKrB,EAAG,YAAY,CAACsB,YAAY,iBAAiBV,YAAY,CAAC,MAAQ,OAAOV,MAAM,CAAC,KAAO,QAAQC,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOrB,EAAI0B,QAAQN,EAAMG,IAAI,KAAK,QAAQ,GAAGrB,EAAG,aAAa,CAACM,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOX,EAAI2B,MAAQ,EAAGd,WAAW,cAAcW,YAAY,oBAAoBpB,MAAM,CAAC,MAAQJ,EAAI2B,MAAM,KAAO3B,EAAI4B,OAAOC,KAAK,MAAQ7B,EAAI4B,OAAOE,KAAK,OAAS,2BAA2B,MAAQ,IAAIzB,GAAG,CAAC,cAAc,SAASgB,GAAQ,OAAOrB,EAAI+B,KAAK/B,EAAI4B,OAAQ,OAAQP,EAAO,EAAE,eAAe,SAASA,GAAQ,OAAOrB,EAAI+B,KAAK/B,EAAI4B,OAAQ,OAAQP,EAAO,EAAE,WAAarB,EAAIgC,eAAe9B,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQJ,EAAIiC,MAAM,QAAUjC,EAAIkC,aAAa,MAAQ,MAAM,iBAAiB,IAAI7B,GAAG,CAAC,iBAAiB,SAASgB,GAAQrB,EAAIkC,aAAab,CAAM,IAAI,CAACnB,EAAG,UAAU,CAACiC,IAAI,OAAO/B,MAAM,CAAC,MAAQJ,EAAIoC,KAAK,cAAc,UAAU,CAAClC,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,YAAY,CAACF,EAAG,WAAW,CAACY,YAAY,CAAC,MAAQ,SAASuB,MAAM,CAAC1B,MAAOX,EAAIoC,KAAKE,QAASC,SAAS,SAAUC,GAAMxC,EAAI+B,KAAK/B,EAAIoC,KAAM,UAAWI,EAAI,EAAE3B,WAAW,mBAAmB,GAAGX,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,YAAY,CAACF,EAAG,WAAW,CAACY,YAAY,CAAC,MAAQ,SAASuB,MAAM,CAAC1B,MAAOX,EAAIoC,KAAKK,QAASF,SAAS,SAAUC,GAAMxC,EAAI+B,KAAK/B,EAAIoC,KAAM,UAAWI,EAAI,EAAE3B,WAAW,mBAAmB,IAAI,GAAGX,EAAG,MAAM,CAACsB,YAAY,gBAAgBpB,MAAM,CAAC,KAAO,UAAUsC,KAAK,UAAU,CAACxC,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOrB,EAAI2C,WAAW,OAAO,IAAI,CAAC3C,EAAIO,GAAG,QAAQL,EAAG,YAAY,CAACG,GAAG,CAAC,MAAQ,SAASgB,GAAQrB,EAAIkC,cAAe,CAAK,IAAI,CAAClC,EAAIO,GAAG,SAAS,IAAI,GAAGL,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,SAAS,QAAUJ,EAAI4C,aAAa,MAAQ,MAAM,iBAAiB,GAAG,IAAM,QAAQvC,GAAG,CAAC,iBAAiB,SAASgB,GAAQrB,EAAI4C,aAAavB,CAAM,IAAI,CAACnB,EAAG,MAAM,CAACsB,YAAY,UAAU,CAACtB,EAAG,UAAU,CAACE,MAAM,CAAC,eAAe,QAAQC,GAAG,CAAC,YAAYL,EAAI6C,aAAaR,MAAM,CAAC1B,MAAOX,EAAI8C,UAAWP,SAAS,SAAUC,GAAMxC,EAAI8C,UAAUN,CAAG,EAAE3B,WAAW,cAAcb,EAAI+C,GAAI/C,EAAIgD,UAAW,SAASC,EAAKC,GAAO,OAAOhD,EAAG,cAAc,CAACgB,IAAI+B,EAAKE,SAAS/C,MAAM,CAAC,MAAQ6C,EAAKG,WAAW,KAAOF,EAAMG,aAAa,CAACnD,EAAG,oBAAoB,CAACE,MAAM,CAAC,KAAO,SAASiC,MAAM,CAAC1B,MAAOX,EAAIsD,YAAaf,SAAS,SAAUC,GAAMxC,EAAIsD,YAAYd,CAAG,EAAE3B,WAAW,gBAAgBb,EAAI+C,GAAI/C,EAAIuD,eAAgB,SAAS5C,GAAO,OAAOT,EAAG,cAAc,CAACgB,IAAIP,EAAM6C,SAASpD,MAAM,CAAC,MAAQO,EAAM6C,SAAS,OAAS,GAAG,SAAW7C,EAAM8C,SAASpD,GAAG,CAAC,OAASL,EAAI0D,oBAAoB,CAAC1D,EAAIO,GAAGP,EAAI2D,GAAGhD,EAAMiD,cAAc,GAAG,IAAI,EAAE,GAAG,IAAI,MAAM,EACt8G,EACIC,EAAkB,GCmGtB,G,6EAAA,CACAC,IAAAA,GACA,OACA/C,UAAA,GACAkB,MAAA,OACAC,cAAA,EACAE,KAAA,GACA2B,YAAA,CACA,CACAtD,KAAA,SACAuD,KAAA,GAEA,CACAvD,KAAA,OACAuD,KAAA,GAEA,CACAvD,KAAA,SACAuD,KAAA,IAGApC,OAAA,CACAC,KAAA,EACAC,KAAA,IAEAH,MAAA,EACAsC,UAAA,GACArD,SAAA,EACAgC,cAAA,EACAW,eAAA,GACAP,UAAA,GACAkB,UAAA,GACApB,UAAA,IACAqB,iBAAA,GACAC,SAAA,GACAd,YAAA,GAEA,EACAe,OAAAA,GACA,KAAArC,cACA,KAAAsC,eACA,KAAAC,yBACA,EACAC,QAAA,CACAd,iBAAAA,CAAAD,EAAAgB,GACA,IAAAjB,EAAAkB,OAAAD,EAAAE,OAAAhE,OACA,MAAAiE,EAAAnB,EACA,0BACA,0BACA,KAAAoB,KACAC,KAAAF,EAAA,CACAG,MAAA,KAAAb,UAAAa,MACAvB,aAEAwB,KAAA,KACA,KAAAC,SAAAC,QAAA,UAEAC,MAAA,KACA,KAAA7B,YAAA,KAAAA,YAAA8B,OACAnC,GAAAA,IAAAO,IAGA,EAEAe,uBAAAA,GACA,KAAAjB,YAAA,GACA,KAAAuB,KACAQ,IAAA,+BACAzD,OAAA,CAAAmD,MAAA,KAAAb,UAAAa,SAEAC,KAAAM,IACAA,EAAAxB,KAAAA,OACA,KAAAI,UAAAa,OACA,KAAAzB,YAAAgC,EAAAxB,KAAAA,KAAAyB,IAAAtC,GAAAA,EAAAO,UACA,KAAAgC,yBAEA,KAAArB,iBAAAmB,EAAAxB,KAAAA,OAIA,EAEAjB,WAAAA,CAAA4B,GACA,KAAAL,SAAA,KAAApB,UAAAyB,EAAAvB,OACA,KAAAsC,uBACA,EAEAlB,YAAAA,GACA,KAAAO,KACAQ,IAAA,wBAAAzD,OAAA,CAAA6D,aAAA,KACAT,KAAAM,IACA,KAAAtC,UAAAsC,EAAAxB,KAAAA,KACA,KAAAM,SAAA,KAAApB,UAAA,GACA,KAAAwC,yBAEA,EAEAE,WAAAA,CAAAC,EAAA7B,GACA,MAAAc,EACAe,EAAAC,QAAA9B,IAAA,EACA,0BACA,0BACA,KAAAe,KACAC,KAAAF,EAAA,CACAG,MAAA,KAAAb,UAAAa,MACAvB,SAAAM,EAAAN,WAEAwB,KAAA,KACA,KAAAC,SAAAC,QAAA,SAEA,EAEAM,qBAAAA,GACA,KAAAX,KACAQ,IAAA,6BACAzD,OAAA,CACAuB,SAAA,KAAAiB,SAAAjB,YAGA6B,KAAAM,IACA,KAAA/B,eAAA,KAAAsC,YACA,KAAA1B,iBACAmB,EAAAxB,KAAAA,KACA,KAAAI,UAAAa,QAGA,EACAc,WAAAA,CAAA/B,EAAAgC,EAAAC,GACA,MAAAC,EAAA,IAAAC,IAAAnC,EAAAyB,IAAAtC,GAAAA,EAAAO,WACA0C,EAAA,IAAAD,IACAnC,EACAsB,OAAAnC,GAAAA,EAAA8B,QAAAgB,GACAR,IAAAtC,GAAAA,EAAAO,WAGA,OAAAsC,EAAAP,IAAAtC,IAAA,IACAA,EACAQ,QACAuC,EAAAG,IAAAlD,EAAAO,YAAA0C,EAAAC,IAAAlD,EAAAO,YAEA,EAGAlC,UAAAA,CAAAC,GACA,KAAA2C,UAAA3C,EACA,KAAAqB,cAAA,EACA,KAAA2B,yBACA,EACA6B,YAAAA,CAAAlD,GACA,KAAAe,UAAAoC,OAAAnD,EAAA,EACA,EACAxB,OAAAA,CAAAuB,GACA,KAAAqD,SAAA,iBACAC,kBAAA,KACAC,iBAAA,KACAxC,KAAA,YAEAgB,KAAA,KACA,KAAAH,KACAC,KAAA,iBACAC,MAAA9B,EAAA8B,QAEAC,KAAA,KACA,KAAAC,SAAAC,QAAA,QACA,KAAAlD,kBAGAmD,MAAA,KACA,KAAAF,SAAA,CACAjB,KAAA,OACAyC,QAAA,WAGA,EACAhF,QAAAA,CAAAF,GACA,KAAAU,MAAA,OACA,KAAAC,cAAA,EACA,KAAAE,KAAA,IAAAb,GACA,KAAA0C,UAAA,KAAA7B,KAAAwB,WACA8C,KAAAC,MAAA,KAAAvE,KAAAwB,YAAA2B,IAAAtC,IAAA,CAAA2D,KAAA3D,KACA,EACA,EACA3C,QAAAA,GACA,KAAA8B,KAAA,GACA,KAAA6B,UAAA,GACA,KAAA/B,cAAA,CACA,EACA2E,YAAAA,CAAApC,GACA,KAAArC,KAAA0E,cAAArC,EAAAhE,KACA,KAAA2B,KAAA2E,QAAAtC,EAAAT,IACA,EACArB,UAAAA,CAAAqE,GACA,KAAA5E,KAAAE,QAAAoC,OAAA,KAAAtC,KAAAE,SACA,KAAA2E,MAAAD,GAAAE,SAAAC,IACA,IAAAA,EAeA,SAdA,KAAA/E,KAAA2C,MACA,KAAAF,KAAAC,KAAA,wBAAA1C,MAAA4C,KAAA,KACA,KAAA9C,cAAA,EACA,KAAA+C,SAAAC,QAAA,QACA,KAAAlD,gBAGA,KAAA6C,KAAAC,KAAA,qBAAA1C,MAAA4C,KAAA,KACA,KAAA9C,cAAA,EACA,KAAA+C,SAAAC,QAAA,QACA,KAAAlD,iBAOA,EACAA,WAAAA,GACA,KAAApB,SAAA,EACA,KAAAiE,KACAQ,IAAA,qBAAAzD,OAAA,KAAAA,SACAoD,KAAAM,IACAA,EAAAxB,KAAAA,OAAA,KAAA/C,UAAAuE,EAAAxB,KAAAA,MACA,KAAAnC,MAAA2D,EAAAxB,KAAAnC,QAEAyF,QAAA,KACA,KAAAxG,SAAA,GAEA,KCrUqb,I,UCSjbyG,GAAY,OACd,EACAtH,EACA8D,GACA,EACA,KACA,WACA,MAIF,EAAewD,E","sources":["webpack://videogatewayweb/./src/views/AI/configuration.vue","webpack://videogatewayweb/src/views/AI/configuration.vue","webpack://videogatewayweb/./src/views/AI/configuration.vue?b5d2","webpack://videogatewayweb/./src/views/AI/configuration.vue?bce9"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-plus\",\"size\":\"mini\"},on:{\"click\":_vm.addRules}},[_vm._v(\"新增算法\")]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"ai_code\",\"label\":\"报警编号\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"ai_name\",\"label\":\"算法名称\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.chooseType(scope.row, 1)}}},[_c('i',{staticClass:\"icon iconf-model fs-14\",attrs:{\"title\":\"选择模型分类\"}})]),_c('el-button',{staticClass:\"el-icon-edit\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.editData(scope.row)}}}),_c('el-button',{staticClass:\"el-icon-delete\",staticStyle:{\"color\":\"red\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.delData(scope.row)}}})]}}])})],1),_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total > 0),expression:\"total > 0\"}],staticClass:\"float-right mt-10\",attrs:{\"total\":_vm.total,\"page\":_vm.params.page,\"limit\":_vm.params.size,\"layout\":\"total, prev, pager, next\",\"small\":\"\"},on:{\"update:page\":function($event){return _vm.$set(_vm.params, \"page\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.params, \"size\", $event)},\"pagination\":_vm.getDataList}}),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.rulesVisible,\"width\":\"35%\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.rulesVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"报警编号\",\"prop\":\"ai_code\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.form.ai_code),callback:function ($$v) {_vm.$set(_vm.form, \"ai_code\", $$v)},expression:\"form.ai_code\"}})],1),_c('el-form-item',{attrs:{\"label\":\"算法名称\",\"prop\":\"ai_name\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.form.ai_name),callback:function ($$v) {_vm.$set(_vm.form, \"ai_name\", $$v)},expression:\"form.ai_name\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('form')}}},[_vm._v(\"确认\")]),_c('el-button',{on:{\"click\":function($event){_vm.rulesVisible = false}}},[_vm._v(\"取消\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"模型类型列表\",\"visible\":_vm.modelVisible,\"width\":\"65%\",\"append-to-body\":\"\",\"top\":\"10px\"},on:{\"update:visible\":function($event){_vm.modelVisible=$event}}},[_c('div',{staticClass:\"d-flex\"},[_c('el-tabs',{attrs:{\"tab-position\":\"left\"},on:{\"tab-click\":_vm.chooseModel},model:{value:(_vm.modelName),callback:function ($$v) {_vm.modelName=$$v},expression:\"modelName\"}},_vm._l((_vm.modelList),function(item,index){return _c('el-tab-pane',{key:item.model_id,attrs:{\"label\":item.model_name,\"name\":index.toString()}},[_c('el-checkbox-group',{attrs:{\"size\":\"small\"},model:{value:(_vm.checkedTabs),callback:function ($$v) {_vm.checkedTabs=$$v},expression:\"checkedTabs\"}},_vm._l((_vm.modelClassList),function(value){return _c('el-checkbox',{key:value.class_id,attrs:{\"label\":value.class_id,\"border\":\"\",\"disabled\":value.checked},on:{\"change\":_vm.handleCheckedTabs}},[_vm._v(_vm._s(value.class_name))])}),1)],1)}),1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-button\r\n      type=\"primary\"\r\n      plain\r\n      icon=\"el-icon-plus\"\r\n      size=\"mini\"\r\n      @click=\"addRules\"\r\n      >新增算法</el-button\r\n    >\r\n    <el-table :data=\"tableData\" style=\"width: 100%\" v-loading=\"loading\">\r\n      <el-table-column prop=\"ai_code\" label=\"报警编号\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"ai_name\" label=\"算法名称\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" @click=\"chooseType(scope.row, 1)\">\r\n            <i title=\"选择模型分类\" class=\"icon iconf-model fs-14\"></i>\r\n          </el-button>\r\n          <el-button\r\n            type=\"text\"\r\n            @click=\"editData(scope.row)\"\r\n            class=\"el-icon-edit\"\r\n          ></el-button>\r\n          <el-button\r\n            type=\"text\"\r\n            @click=\"delData(scope.row)\"\r\n            class=\"el-icon-delete\"\r\n            style=\"color: red\"\r\n          ></el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <pagination\r\n      class=\"float-right mt-10\"\r\n      v-show=\"total > 0\"\r\n      :total=\"total\"\r\n      :page.sync=\"params.page\"\r\n      :limit.sync=\"params.size\"\r\n      @pagination=\"getDataList\"\r\n      layout=\"total, prev, pager, next\"\r\n      small\r\n    />\r\n    <el-dialog\r\n      :title=\"title\"\r\n      :visible.sync=\"rulesVisible\"\r\n      width=\"35%\"\r\n      append-to-body\r\n    >\r\n      <el-form :model=\"form\" label-width=\"150px\" ref=\"form\">\r\n        <el-form-item label=\"报警编号\" prop=\"ai_code\">\r\n          <el-input v-model=\"form.ai_code\" style=\"width: 200px\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"算法名称\" prop=\"ai_name\">\r\n          <el-input v-model=\"form.ai_name\" style=\"width: 200px\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitForm('form')\">确认</el-button>\r\n        <el-button @click=\"rulesVisible = false\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <el-dialog\r\n      title=\"模型类型列表\"\r\n      :visible.sync=\"modelVisible\"\r\n      width=\"65%\"\r\n      append-to-body\r\n      top=\"10px\"\r\n    >\r\n      <div class=\"d-flex\">\r\n        <el-tabs\r\n          tab-position=\"left\"\r\n          @tab-click=\"chooseModel\"\r\n          v-model=\"modelName\"\r\n        >\r\n          <el-tab-pane\r\n            :label=\"item.model_name\"\r\n            v-for=\"(item, index) in modelList\"\r\n            :key=\"item.model_id\"\r\n            :name=\"index.toString()\"\r\n          >\r\n            <el-checkbox-group size=\"small\" v-model=\"checkedTabs\">\r\n              <el-checkbox\r\n                @change=\"handleCheckedTabs\"\r\n                v-for=\"value in modelClassList\"\r\n                :label=\"value.class_id\"\r\n                :key=\"value.class_id\"\r\n                border\r\n                :disabled=\"value.checked\"\r\n                >{{ value.class_name }}</el-checkbox\r\n              >\r\n            </el-checkbox-group>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      title: \"新增算法\",\r\n      rulesVisible: false,\r\n      form: {},\r\n      analyseList: [\r\n        {\r\n          name: \"车辆类型识别\",\r\n          type: 1,\r\n        },\r\n        {\r\n          name: \"车牌识别\",\r\n          type: 2,\r\n        },\r\n        {\r\n          name: \"火焰烟雾识别\",\r\n          type: 3,\r\n        },\r\n      ],\r\n      params: {\r\n        page: 1,\r\n        size: 10,\r\n      },\r\n      total: 0,\r\n      classList: [],\r\n      loading: false,\r\n      modelVisible: false,\r\n      modelClassList: [],\r\n      modelList: [],\r\n      modelForm: {},\r\n      modelName: \"0\",\r\n      AiModelClassList: [],\r\n      modelObj: {},\r\n      checkedTabs: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.getDataList();\r\n    this.getmodalList();\r\n    this.getDataAiModelClassList();\r\n  },\r\n  methods: {\r\n    handleCheckedTabs(checked, e) {\r\n      let class_id = Number(e.target.value);\r\n      const url = checked\r\n        ? \"/ai/addDataAiModelClass\"\r\n        : \"/ai/delDataAiModelClass\";\r\n      this.$api\r\n        .post(url, {\r\n          ai_id: this.modelForm.ai_id,\r\n          class_id,\r\n        })\r\n        .then(() => {\r\n          this.$message.success(\"操作成功\");\r\n        })\r\n        .catch(() => {\r\n          this.checkedTabs = this.checkedTabs.filter(\r\n            (item) => item !== class_id\r\n          );\r\n        });\r\n    },\r\n    // 模型列表获取\r\n    getDataAiModelClassList() {\r\n      this.checkedTabs = [];\r\n      this.$api\r\n        .get(\"/ai/getDataAiModelClassList\", {\r\n          params: { ai_id: this.modelForm.ai_id },\r\n        })\r\n        .then((res) => {\r\n          if (res.data.data) {\r\n            if (this.modelForm.ai_id) {\r\n              this.checkedTabs = res.data.data.map((item) => item.class_id);\r\n              this.getDataModelClassList();\r\n            } else {\r\n              this.AiModelClassList = res.data.data;\r\n            }\r\n          }\r\n        });\r\n    },\r\n    // 选择模型\r\n    chooseModel(e) {\r\n      this.modelObj = this.modelList[e.index];\r\n      this.getDataModelClassList();\r\n    },\r\n    // 模型列表\r\n    getmodalList() {\r\n      this.$api\r\n        .get(\"/ai/getDataModelList\", { params: { model_status: 1 } })\r\n        .then((res) => {\r\n          this.modelList = res.data.data;\r\n          this.modelObj = this.modelList[0];\r\n          this.getDataModelClassList();\r\n        });\r\n    },\r\n    // 选择类\r\n    chooseClass(val, data) {\r\n      const url =\r\n        val.indexOf(data) > -1\r\n          ? \"/ai/addDataAiModelClass\"\r\n          : \"/ai/delDataAiModelClass\";\r\n      this.$api\r\n        .post(url, {\r\n          ai_id: this.modelForm.ai_id,\r\n          class_id: data.class_id,\r\n        })\r\n        .then(() => {\r\n          this.$message.success(\"操作成功\");\r\n        });\r\n    },\r\n    //根据模型查分类\r\n    getDataModelClassList() {\r\n      this.$api\r\n        .get(`/ai/getDataModelClassList`, {\r\n          params: {\r\n            model_id: this.modelObj.model_id,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          this.modelClassList = this.processData(\r\n            this.AiModelClassList,\r\n            res.data.data,\r\n            this.modelForm.ai_id\r\n          );\r\n        });\r\n    },\r\n    processData(data, data1, targetId) {\r\n      const classIdSet = new Set(data.map((item) => item.class_id));\r\n      const targetClassSet = new Set(\r\n        data\r\n          .filter((item) => item.ai_id === targetId)\r\n          .map((item) => item.class_id)\r\n      );\r\n\r\n      return data1.map((item) => ({\r\n        ...item,\r\n        checked:\r\n          classIdSet.has(item.class_id) && !targetClassSet.has(item.class_id),\r\n      }));\r\n    },\r\n\r\n    // 选择分类按钮（算法列表）\r\n    chooseType(row) {\r\n      this.modelForm = row;\r\n      this.modelVisible = true;\r\n      this.getDataAiModelClassList();\r\n    },\r\n    delClassItem(index) {\r\n      this.classList.splice(index, 1);\r\n    },\r\n    delData(item) {\r\n      this.$confirm(\"是否删除该数据?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.$api\r\n            .post(\"/ai/delDataAi\", {\r\n              ai_id: item.ai_id,\r\n            })\r\n            .then(() => {\r\n              this.$message.success(\"操作成功\");\r\n              this.getDataList();\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n    },\r\n    editData(row) {\r\n      this.title = \"编辑算法\";\r\n      this.rulesVisible = true;\r\n      this.form = { ...row };\r\n      this.classList = this.form.class_name\r\n        ? JSON.parse(this.form.class_name).map((item) => ({ text: item }))\r\n        : [];\r\n    },\r\n    addRules() {\r\n      this.form = {};\r\n      this.classList = [];\r\n      this.rulesVisible = true;\r\n    },\r\n    changeAIType(e) {\r\n      this.form.ai_type_alias = e.name;\r\n      this.form.ai_type = e.type;\r\n    },\r\n    submitForm(formName) {\r\n      this.form.ai_code = Number(this.form.ai_code);\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          if (this.form.ai_id) {\r\n            this.$api.post(\"/ai/updateDataAi\", this.form).then(() => {\r\n              this.rulesVisible = false;\r\n              this.$message.success(\"操作成功\");\r\n              this.getDataList();\r\n            });\r\n          } else {\r\n            this.$api.post(\"/ai/addDataAi\", this.form).then(() => {\r\n              this.rulesVisible = false;\r\n              this.$message.success(\"操作成功\");\r\n              this.getDataList();\r\n            });\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    getDataList() {\r\n      this.loading = true;\r\n      this.$api\r\n        .get(`/ai/getDataAiList`, { params: this.params })\r\n        .then((res) => {\r\n          if (res.data.data) this.tableData = res.data.data;\r\n          this.total = res.data.total;\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n::v-deep(.el-dialog) {\r\n  overflow-x: hidden !important;\r\n}\r\n\r\n::v-deep .el-table--small {\r\n  .el-table__cell {\r\n    padding: 5px 0 !important;\r\n  }\r\n}\r\n::v-deep .el-checkbox.is-bordered.el-checkbox--small {\r\n  margin: 0 15px 15px 0 !important;\r\n}\r\n::v-deep .el-checkbox.is-bordered.el-checkbox--small {\r\n  width: 110px;\r\n}\r\n</style>\r\n<style>\r\n.el-table__header-wrapper {\r\n  .el-checkbox__inner {\r\n    display: none !important;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.101.2/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.4.1_mlq2w24ovccw2zzwyvf7z5k5qa/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/index.js??vue-loader-options!./configuration.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.101.2/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.4.1_mlq2w24ovccw2zzwyvf7z5k5qa/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/index.js??vue-loader-options!./configuration.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./configuration.vue?vue&type=template&id=b888914a&scoped=true\"\nimport script from \"./configuration.vue?vue&type=script&lang=js\"\nexport * from \"./configuration.vue?vue&type=script&lang=js\"\nimport style0 from \"./configuration.vue?vue&type=style&index=0&id=b888914a&prod&lang=less&scoped=true\"\nimport style1 from \"./configuration.vue?vue&type=style&index=1&id=b888914a&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.11.1_7z3qvuhbfa5xwvetfv2z7hc6ey/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b888914a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","on","addRules","_v","directives","name","rawName","value","loading","expression","staticStyle","tableData","scopedSlots","_u","key","fn","scope","$event","chooseType","row","staticClass","editData","delData","total","params","page","size","$set","getDataList","title","rulesVisible","ref","form","model","ai_code","callback","$$v","ai_name","slot","submitForm","modelVisible","chooseModel","modelName","_l","modelList","item","index","model_id","model_name","toString","checkedTabs","modelClassList","class_id","checked","handleCheckedTabs","_s","class_name","staticRenderFns","data","analyseList","type","classList","modelForm","AiModelClassList","modelObj","created","getmodalList","getDataAiModelClassList","methods","e","Number","target","url","$api","post","ai_id","then","$message","success","catch","filter","get","res","map","getDataModelClassList","model_status","chooseClass","val","indexOf","processData","data1","targetId","classIdSet","Set","targetClassSet","has","delClassItem","splice","$confirm","confirmButtonText","cancelButtonText","message","JSON","parse","text","changeAIType","ai_type_alias","ai_type","formName","$refs","validate","valid","finally","component"],"sourceRoot":""}